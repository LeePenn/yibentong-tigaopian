可以这样解决：如果A,B在同一个Party中，而B,C互不相容，则易知如果选了C，则A必选，所以有C --> A，这样可以建立一个有向图。在这个有向图中，如果存在一条X到Y的路径，则只要X被选中，Y就必选。如果存在一条U到V的路径，而U、V不相容，则U不可选。可以根据这个性质判断出无解或构造出解。